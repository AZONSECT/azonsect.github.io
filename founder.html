<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kişisel Marka Ağacı - Portfolyo</title>
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- YENİ: Three.js (3D Uzay Arka Planı için) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Google Fonts ve Özel CSS -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            /* Arka planı canvas devralacağı için body'deki koyu rengi kaldırıyoruz */
            overflow-x: hidden; 
        }

        /* Three.js Canvas Styling: Ekranı tamamen kaplayan, sabit arka plan */
        #space-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0; 
            background: radial-gradient(circle at 50% 50%, #000000 0%, #040410 100%);
        }
    </style>
</head>
<body class="text-slate-300 selection:bg-emerald-500/30">

    <!-- YENİ: 3D Uzay Arka Planı için Canvas -->
    <canvas id="space-canvas"></canvas>

    <!-- ANA İÇERİK: Canvas'ın üzerinde, z-index: 10 ile katmanlanmış -->
    <div id="app" class="min-h-screen relative z-10">
        
        <!-- 1) GÖVDE - HERO -->
        <!-- Arka planı hafif şeffaf yaparak 3D uzay manzarasını gösteriyoruz -->
        <header class="relative flex flex-col items-center justify-center text-center px-4 overflow-hidden pt-24 pb-16 min-h-screen bg-slate-950/20">
            <!-- Background Grid Effect and Radial Gradient (Subtle Overlays) -->
            <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] opacity-10"></div>
            <div class="absolute inset-0 bg-[radial-gradient(circle_800px_at_50%_200px,#042f2e,transparent)] opacity-30"></div>

            <div class="relative z-10 max-w-4xl mx-auto" id="trunk-container">
                <!-- Javascript ile doldurulacak -->
            </div>
        </header>

        <!-- 2) KÖKLER - VALUES -->
        <section class="py-20 px-4 relative border-t border-slate-800 bg-slate-950/90">
            <div class="max-w-6xl mx-auto">
                <div class="flex items-center justify-center gap-3 mb-10">
                    <span class="text-emerald-500"><i data-lucide="anchor"></i></span>
                    <h2 class="text-3xl font-bold text-slate-100 uppercase tracking-widest">Kökler & Değerler</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="roots-container">
                    <!-- Javascript ile doldurulacak -->
                </div>
            </div>
        </section>

        <!-- 3 & 4) DALLAR VE YAPRAKLAR - UZMANLIK AĞACI -->
        <section class="py-20 px-4 relative bg-slate-900/90">
            <div class="max-w-7xl mx-auto">
                <div class="flex items-center justify-center gap-3 mb-10">
                    <span class="text-emerald-500"><i data-lucide="cpu"></i></span>
                    <h2 class="text-3xl font-bold text-slate-100 uppercase tracking-widest">Uzmanlık Ağacı</h2>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    <!-- SOL TARAF: KALIN DALLAR (Menu) -->
                    <div class="lg:col-span-4 space-y-4">
                        <h3 class="text-sm uppercase tracking-wider text-slate-500 font-bold mb-4 ml-1">Kalın Dallar (Alanlar)</h3>
                        <div id="branches-menu" class="space-y-4">
                            <!-- Javascript ile doldurulacak -->
                        </div>
                    </div>

                    <!-- SAĞ TARAF: İNCE DALLAR VE YAPRAKLAR (Content) -->
                    <div class="lg:col-span-8">
                        <!-- İçerik kutusu da yarı saydam -->
                        <div id="branch-content-area" class="bg-slate-950/90 rounded-2xl p-6 md:p-8 border border-slate-800 min-h-full transition-opacity duration-300">
                            <!-- Javascript ile dinamik içerik buraya gelecek -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5) MEYVELER - SOCIALS -->
        <section class="py-24 px-4 relative overflow-hidden bg-slate-950/90">
            <!-- Decorative Background: Only the bottom line remains -->
            <div class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-emerald-500 to-transparent"></div>

            <div class="max-w-4xl mx-auto relative z-10 text-center">
                <div class="flex items-center justify-center gap-3 mb-10">
                    <span class="text-emerald-500"><i data-lucide="share-2"></i></span>
                    <h2 class="text-3xl font-bold text-slate-100 uppercase tracking-widest">Meyveler & Hasat</h2>
                </div>
                <p class="text-slate-400 mb-10 max-w-lg mx-auto">
                    Ağacın canlı olduğunu gösteren, toplulukla paylaştığım içerikler ve dijital varlığım.
                </p>

                <div class="flex flex-wrap justify-center gap-6" id="fruits-container">
                    <!-- Javascript ile doldurulacak -->
                </div>

                <div class="mt-16 pt-10 border-t border-slate-900 flex flex-col items-center gap-4">
                    <h3 class="text-2xl font-bold text-white">Birlikte Yeni Bir Dal Yeşertelim?</h3>
                    <a href="mailto:email@example.com" class="inline-flex items-center gap-2 px-8 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-full font-bold transition-all shadow-lg shadow-emerald-900/50">
                        <i data-lucide="mail" class="w-5 h-5"></i>
                        İletişime Geç
                    </a>
                </div>
            </div>
        </section>

        <footer class="py-8 bg-slate-950/90 text-center text-slate-600 text-sm border-t border-slate-900">
            <p id="footer-text"></p>
        </footer>

    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- THREE.JS UZAY ARKA PLAN MANTIĞI ---
        let scene, camera, renderer;
        let mouseX = 0, mouseY = 0;
        let windowHalfX = window.innerWidth / 2;
        let windowHalfY = window.innerHeight / 2;
        let canvas;

        function initThree() {
            canvas = document.getElementById('space-canvas');
            const width = window.innerWidth;
            const height = window.innerHeight;

            // 1. Sahne (Scene)
            scene = new THREE.Scene();

            // 2. Kamera (Camera)
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.z = 5;

            // 3. Renderer (Oluşturucu)
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(width, height);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setClearColor(0x000000, 0); // Şeffaf arka plan ayarı

            // 4. Işıklandırma ve Sis (Cinematic Lighting/Fog for Nebula Effect)
            scene.fog = new THREE.FogExp2(0x040410, 0.015); // Derin uzay hissi veren sis
            
            // Ambient Işık
            scene.add(new THREE.AmbientLight(0x444444));

            // Yön Işığı (Hafif Mavi/Mor Parıltı)
            const directionalLight = new THREE.DirectionalLight(0x6655ff, 0.5);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            
            // Noktasal Işık (Parlak Yıldız/Nebula Hissi)
            const pointLight = new THREE.PointLight(0x00ffaa, 1, 50);
            pointLight.position.set(5, 5, -5);
            scene.add(pointLight);

            // 5. Yıldızları Ekle (Stars - Procedural)
            addStars();

            // 6. Olay Dinleyicileri
            window.addEventListener('resize', onResize, false);
            setupMouseControls();
        }

        function addStars() {
            const starGeometry = new THREE.BufferGeometry();
            const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1, blending: THREE.AdditiveBlending, transparent: true, sizeAttenuation: true });

            const starVertices = [];
            for (let i = 0; i < 10000; i++) {
                const x = THREE.MathUtils.randFloatSpread(200); // -100 ile 100 arası
                const y = THREE.MathUtils.randFloatSpread(200);
                const z = THREE.MathUtils.randFloatSpread(200);
                starVertices.push(x, y, z);
            }
            starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));

            const stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);
        }

        function onResize() {
            windowHalfX = window.innerWidth / 2;
            windowHalfY = window.innerHeight / 2;
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function setupMouseControls() {
            document.addEventListener('mousemove', onDocumentMouseMove, false);
            document.addEventListener('touchmove', onDocumentTouchMove, false);
        }

        function onDocumentMouseMove(event) {
            mouseX = event.clientX - windowHalfX;
            mouseY = event.clientY - windowHalfY;
        }

        function onDocumentTouchMove(event) {
            if (event.touches.length === 1) {
                event.preventDefault();
                mouseX = event.touches[0].pageX - windowHalfX;
                mouseY = event.touches[0].pageY - windowHalfY;
            }
        }

        function animate() {
            requestAnimationFrame(animate);

            // Otomatik dönüş
            const time = Date.now() * 0.00005;
            scene.rotation.y += 0.0001; // Yavaş yatay dönüş
            scene.rotation.x = Math.sin(time * 0.5) * 0.01; // Hafif dikey salınım

            // Kamera hareketi (Mouse/Touch control)
            camera.position.x += (mouseX * 0.005 - camera.position.x) * 0.05;
            camera.position.y += (-mouseY * 0.005 - camera.position.y) * 0.05;
            camera.lookAt(scene.position); // Sahnenin merkezine baksın

            renderer.render(scene, camera);
        }
        
        // --- 1. VERİ YAPISI (DATA STRUCTURE) ---
        const personalData = {
            trunk: {
                name: "Nariman Rzayev",
                title: "Genç Teknoloji Mühendisi & Yapay Zeka / IoT Geliştiricisi",
                summary: "Teknolojinin köklerinden geleceğin dallarına uzanan bir mühendislik yolculuğu.",
                image: "my_foto.jpeg"
            },
            roots: [
                { title: "Çok Yönlü Öğrenme", icon: "layers", desc: "Farklı disiplinleri birleştirme yeteneği." },
                { title: "Proje Bağımlılığı", icon: "zap", desc: "Fikirden ürüne hızlı prototipleme tutkusu." },
                { title: "Adaptasyon", icon: "anchor", desc: "Yeni teknolojilere hızla uyum sağlayan esnek zihin." },
                { title: "Dayanıklılık", icon: "leaf", desc: "Hata ayıklama ve problem çözme kültürü." }
            ],
            branches: [
                {
                    id: 1,
                    title: "IoT & Embedded",
                    icon: "cpu",
                    color: "text-emerald-400",
                    description: "ESP32, Raspberry Pi, Sensör Ağları",
                    projects: [
                        { title: "Ev İçi Enerji İzleme", desc: "Anlık enerji tüketim analizi ve optimizasyonu.", tech: ["ESP32", "MQTT", "React Dashboard"] },
                        { title: "IoT Akıllı Priz", desc: "Uzaktan kontrol edilebilir, zaman ayarlı priz sistemi.", tech: ["C++", "Firebase", "PCB Design"] },
                        { title: "ESP-NOW Mesh Ağı", desc: "Multi-hop sıcaklık ve nem takip sistemi.", tech: ["ESP-NOW", "Sensors", "Data Logging"] },
                        { title: "Solar Takip Sistemi", desc: "Güneş açısına göre paneli optimize eden sistem.", tech: ["Servo Motors", "LDR", "Arduino"] }
                    ]
                },
                {
                    id: 2,
                    title: "Yapay Zeka & AI",
                    icon: "brain",
                    color: "text-purple-400",
                    description: "LLM, Görüntü İşleme, Akıllı Asistanlar",
                    projects: [
                        { title: "Kişisel AI Asistanı", desc: "Günlük görevleri organize eden sesli asistan.", tech: ["Python", "OpenAI API", "Speech-to-Text"] },
                        { title: "AI Moda Giydirme", desc: "Kullanıcı fotoğraflarına sanal kıyafet giydirme.", tech: ["Stable Diffusion", "Computer Vision"] },
                        { title: "Real-time Çeviri Kulaklığı", desc: "Konsept tasarım ve yazılım prototipi.", tech: ["NLP", "Audio Processing", "Embedded AI"] }
                    ]
                },
                {
                    id: 3,
                    title: "Robotik & Otomasyon",
                    icon: "bot",
                    color: "text-orange-400",
                    description: "Mekanik Tasarım, ROS, Endüstriyel Kollar",
                    projects: [
                        { title: "Endüstriyel Robot Kol", desc: "6 eksenli robot kol tasarımı ve kinematiği.", tech: ["SolidWorks", "ROS", "Python"] },
                        { title: "Tarım Robotu (AgroBot)", desc: "Otonom sulama ve bitki sağlığı izleme.", tech: ["Lidar", "Image Processing", "Raspberry Pi"] },
                        { title: "Otomatik Sulama", desc: "Toprak nemine göre çalışan verimli sistem.", tech: ["Sensors", "Automation Logic"] }
                    ]
                },
                {
                    id: 4,
                    title: "Oyun & Simülasyon",
                    icon: "gamepad-2",
                    color: "text-blue-400",
                    description: "Unity, C#, 3D Tasarım",
                    projects: [
                        { title: "Harf-Şehir Oyunu", desc: "Web tabanlı çok oyunculu kelime oyunu.", tech: ["Socket.io", "React", "Node.js"] },
                        { title: "Unity 3D Mekanik", desc: "Fizik tabanlı oyun mekanikleri demosu.", tech: ["Unity", "C#", "Blender"] }
                    ]
                },
                {
                    id: 5,
                    title: "İçerik & Topluluk",
                    icon: "share-2",
                    color: "text-pink-400",
                    description: "Sosyal Medya, Eğitim, Büyüme Stratejisi",
                    projects: [
                        { title: "Teknik Blog", desc: "Mühendislik deneyimleri ve tutoriallar.", tech: ["SEO", "Content Writing", "Markdown"] },
                        { title: "Minimal Tasarımlar", desc: "Karmaşık konuları basitleştiren grafikler.", tech: ["Canva", "Figma", "Storytelling"] }
                    ]
                }
            ],
            fruits: [
                { name: "GitHub", icon: "github", link: "#", color: "hover:text-white" },
                { name: "LinkedIn", icon: "linkedin", link: "#", color: "hover:text-blue-500" },
                { name: "YouTube", icon: "youtube", link: "#", color: "hover:text-red-500" },
                { name: "Instagram", icon: "instagram", link: "#", color: "hover:text-pink-500" },
                { name: "Blog", icon: "globe", link: "#", color: "hover:text-emerald-400" },
            ]
        };

        // --- 2. UYGULAMA MANTIĞI (APP LOGIC) ---

        // Mevcut aktif dalı tutan değişken (State)
        let activeBranchId = 1;

        // Başlangıç Yüklemesi
        document.addEventListener('DOMContentLoaded', () => {
            initThree(); // Three.js başlat
            
            // Portfolyo içeriği render işlemleri
            renderTrunk();
            renderRoots();
            renderBranchMenu();
            renderBranchContent(activeBranchId);
            renderFruits();
            renderFooter();
            lucide.createIcons(); // İkonları oluştur
            
            // Three.js animasyon döngüsünü başlat
            animate();
        });

        // 1. Gövde Render
        function renderTrunk() {
            const container = document.getElementById('trunk-container');
            container.innerHTML = `
                <div class="mb-6 inline-block p-1 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500">
                    <img src="${personalData.trunk.image}" alt="Profile" class="w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-slate-900 object-cover"/>
                </div>
                <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 tracking-tight">
                    ${personalData.trunk.name}
                </h1>
                <div class="h-1 w-24 bg-emerald-500 mx-auto mb-6 rounded-full"></div>
                <h2 class="text-xl md:text-2xl text-emerald-400 font-light mb-6">
                    ${personalData.trunk.title}
                </h2>
                <p class="text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed">
                    ${personalData.trunk.summary}
                </p>
                <div class="mt-12 animate-bounce">
                    <i data-lucide="chevron-down" class="text-slate-300 w-8 h-8 mx-auto"></i>
                </div>
            `;
        }

        // 2. Kökler Render
        function renderRoots() {
            const container = document.getElementById('roots-container');
            container.innerHTML = personalData.roots.map(root => `
                <div class="bg-slate-900/50 p-6 rounded-xl border border-slate-800 hover:border-emerald-500/30 transition-colors">
                    <div class="text-emerald-500 mb-4"><i data-lucide="${root.icon}"></i></div>
                    <h3 class="text-lg font-bold text-slate-200 mb-2">${root.title}</h3>
                    <p class="text-slate-400 text-sm">${root.desc}</p>
                </div>
            `).join('');
        }

        // 3. Dal Menüsü Render
        function renderBranchMenu() {
            const container = document.getElementById('branches-menu');
            
            container.innerHTML = personalData.branches.map(branch => {
                const isActive = branch.id === activeBranchId;
                const activeClass = isActive ? 'bg-slate-800 border-emerald-500' : 'bg-slate-900/70 border-slate-700';
                const iconBgClass = branch.color; // Renk sınıfı

                return `
                <div onclick="handleBranchClick(${branch.id})" 
                    class="cursor-pointer transition-all duration-300 p-6 rounded-xl border hover:border-emerald-500/50 hover:shadow-lg hover:shadow-emerald-900/20 group ${activeClass}">
                    <div class="flex items-center justify-between mb-4">
                        <div class="p-3 rounded-lg bg-slate-950 ${iconBgClass} group-hover:scale-110 transition-transform">
                            <i data-lucide="${branch.icon}" width="32" height="32"></i>
                        </div>
                        ${isActive ? '<div class="text-xs font-mono text-emerald-400 px-2 py-1 bg-emerald-900/30 rounded">Seçili Dal</div>' : ''}
                    </div>
                    <h3 class="text-xl font-bold text-slate-200 mb-2">${branch.title}</h3>
                    <p class="text-slate-400 text-sm">${branch.description}</p>
                </div>
                `;
            }).join('');
            
            lucide.createIcons(); // Yeni eklenen ikonları oluştur
        }

        // 4. Dal Tıklama Olayı
        window.handleBranchClick = function(id) {
            activeBranchId = id;
            renderBranchMenu(); // Menüyü güncelle (aktif sınıfı değiştirmek için)
            renderBranchContent(id); // İçeriği güncelle
        };

        // 5. İçerik Alanı Render (Sağ Taraf)
        function renderBranchContent(id) {
            const branch = personalData.branches.find(b => b.id === id);
            const container = document.getElementById('branch-content-area');

            // Projeleri HTML string'e çevir
            const projectsHTML = branch.projects.map(project => `
                <div class="bg-slate-800/50 p-5 rounded-lg border-l-4 border-emerald-500 hover:bg-slate-800 transition-colors">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="text-lg font-semibold text-slate-200">${project.title}</h4>
                    </div>
                    <p class="text-slate-400 text-sm mb-4">${project.desc}</p>
                    <div class="flex flex-wrap gap-2">
                        ${project.tech.map(t => `
                            <span class="text-xs font-mono px-2 py-1 rounded bg-slate-900/50 text-emerald-400 border border-slate-700 flex items-center gap-1">
                                <i data-lucide="leaf" width="10" height="10"></i> ${t}
                            </span>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            // Ana içerik HTML'i
            container.innerHTML = `
                <div class="flex items-center gap-3 mb-8 pb-4 border-b border-slate-800">
                    <div class="text-3xl ${branch.color}">
                        <i data-lucide="${branch.icon}" width="40" height="40"></i>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-white">${branch.title}</h3>
                        <p class="text-slate-400 text-sm">Seçili Alandaki Projeler ve Yetkinlikler</p>
                    </div>
                </div>

                <div class="space-y-6">
                    <h4 class="text-emerald-400 font-mono text-sm flex items-center gap-2">
                        <span class="w-2 h-2 bg-emerald-500 rounded-full"></span>
                        PROJELER (İNCE DALLAR)
                    </h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${projectsHTML}
                    </div>
                </div>
                
                <div class="mt-10 p-4 bg-emerald-950/20 rounded-lg border border-emerald-900/30">
                    <div class="flex items-start gap-3">
                        <div class="text-emerald-500 shrink-0 mt-1"><i data-lucide="leaf"></i></div>
                        <div>
                            <h5 class="text-emerald-300 font-bold text-sm mb-1">Kazanımlar (Yapraklar)</h5>
                            <p class="text-slate-400 text-sm">
                                Bu alandaki çalışmalarım bana ${branch.projects.length} ana proje ve onlarca mikro yetkinlik kazandırdı.
                                Sürekli olarak yeni teknolojiler ekleyerek ağacımı büyütmeye devam ediyorum.
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            lucide.createIcons();
        }

        // 6. Meyveler Render
        function renderFruits() {
            const container = document.getElementById('fruits-container');
            container.innerHTML = personalData.fruits.map(fruit => `
                <a href="${fruit.link}" class="flex flex-col items-center gap-3 p-6 bg-slate-900/80 rounded-2xl border border-slate-800 transition-all duration-300 hover:scale-105 hover:border-emerald-500/50 group w-32 md:w-40">
                    <div class="text-slate-400 transition-colors ${fruit.color} group-hover:scale-110 duration-300">
                        <i data-lucide="${fruit.icon}" width="24" height="24"></i>
                    </div>
                    <span class="font-semibold text-sm text-slate-300">${fruit.name}</span>
                </a>
            `).join('');
        }

        // 7. Footer Render
        function renderFooter() {
            document.getElementById('footer-text').innerText = `© ${new Date().getFullYear()} ${personalData.trunk.name} - Kişisel Marka Ağacı`;
        }

    </script>
</body>
</html>